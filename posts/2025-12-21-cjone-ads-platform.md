---
layout: post
toc: true
title: "광고 시스템 아키텍처"
categories: Work
tags: [광고]
author:
  - 이현동

---


## 광고 트래킹 시스템 아키텍처

![광고 트래킹 시스템](/images/광고트래킹시스템.png)

현재 광고 트래킹 시스템의 경우 데이터가 유실되지 않도록 pub/sub 시에 각각 다른 형태로 데이터의 유실율을 낮추고 있다.
__메시지가 발행되는 시점__ 에는 기존 로깅 시스템과 별도로 MDC로 구분하여 로깅하고, 이를 광고 배치 시스템에서 읽어 20분 단위로 실제 데이터의 유실을 확인한다.

__메시지가 소비되는 시점__ 에는 소비하며 발생하는 오류건은 Dead Letter Queue에 적재되면 이는 별도 Consumer를 통해 비동기로 Dynamo Db에 Cause와 함께 저장된다.
